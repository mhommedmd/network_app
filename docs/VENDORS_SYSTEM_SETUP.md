# ูุธุงู ุงููุชุงุฌุฑ - ุฏููู ุงูุฅุนุฏุงุฏ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญููู ุตูุญุฉ ุงููุชุงุฌุฑ ูู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุฅูู ูุธุงู ุญูููู ูุชูุงูู ูุน Firebase ูุชุถูู:
- ุตูุญุฉ ุนุฑุถ ุงููุชุงุฌุฑ ุงููุถุงูุฉ
- ุตูุญุฉ ุจุญุซ ูุชูุฏูุฉ ูุฅุถุงูุฉ ูุชุงุฌุฑ ุฌุฏูุฏุฉ
- ุชุตููู ุญุณุจ ุงููุญุงูุธุฉ ูุงููุฏูุฑูุฉ
- ุฑุตูุฏ ููุฎุฒูู ููู ูุชุฌุฑ

---

## ๐๏ธ ุงููููู ุงูููู

### 1. Models (ุงูููุงุฐุฌ)
- **`VendorModel`**: ูููุฐุฌ ุจูุงูุงุช ุงููุชุฌุฑ ุงููุงูู

### 2. Services (ุงูุฎุฏูุงุช)
- **`FirebaseVendorService`**: ุฎุฏูุฉ Firebase ูุฅุฏุงุฑุฉ ุงููุชุงุฌุฑ

### 3. Providers (ูููุฑู ุงูุญุงูุฉ)
- **`VendorProvider`**: ุฅุฏุงุฑุฉ ุญุงูุฉ ุงููุชุงุฌุฑ

### 4. Pages (ุงูุตูุญุงุช)
- **`AccountsPage`**: ุตูุญุฉ ุนุฑุถ ุงููุชุงุฌุฑ ุงููุถุงูุฉ
- **`VendorSearchPage`**: ุตูุญุฉ ุงูุจุญุซ ูุฅุถุงูุฉ ูุชุงุฌุฑ ุฌุฏูุฏุฉ

---

## ๐ฅ ุฅุนุฏุงุฏ Firebase

### 1. ุฅูุดุงุก Collections

ูู ุจุฅูุดุงุก collection ุฌุฏูุฏุฉ ูู Firestore:

**Collection: `available_vendors`** (ุงููุชุงุฌุฑ ุงููุชุงุญุฉ ููุฅุถุงูุฉ)

---

### 2. ุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ

ูู Firebase Consoleุ ุฃุถู documents ูู `available_vendors`:

#### ูุชุฌุฑ 1:
```json
{
  "name": "ูุชุฌุฑ ุงูููุฑ",
  "ownerName": "ุฃุญูุฏ ูุญูุฏ ุนูู",
  "phone": "777123456",
  "governorate": "ุตูุนุงุก",
  "district": "ุงูุญุตุจุฉ",
  "address": "ุดุงุฑุน ุงูุฒุจูุฑูุ ุจุฌูุงุฑ ุงูุจูู",
  "isActive": true,
  "createdAt": "2025-01-15T10:00:00Z"
}
```

#### ูุชุฌุฑ 2:
```json
{
  "name": "ูุฑูุฒ ุงูุณูุงู",
  "ownerName": "ูุญูุฏ ุนุจุฏุงููู ุญุณู",
  "phone": "733987654",
  "governorate": "ุตูุนุงุก",
  "district": "ุดุนูุจ",
  "address": "ุดุงุฑุน ุงูุฎูุณููุ ูุฑุจ ุงููุณุฌุฏ",
  "isActive": true,
  "createdAt": "2025-01-16T11:30:00Z"
}
```

#### ูุชุฌุฑ 3:
```json
{
  "name": "ุจูุงูุฉ ุงูุฃูู",
  "ownerName": "ุนูู ุญุณูู ุตุงูุญ",
  "phone": "770555777",
  "governorate": "ุชุนุฒ",
  "district": "ุงููุธูุฑ",
  "address": "ุดุงุฑุน ุฌูุงูุ ุจุงููุฑุจ ูู ุงูุณูู",
  "isActive": true,
  "createdAt": "2025-01-17T09:15:00Z"
}
```

#### ูุชุฌุฑ 4:
```json
{
  "name": "ุณูุจุฑ ูุงุฑูุช ุงูููุงุก",
  "ownerName": "ุนุจุฏุงูุฑุญูู ุฃุญูุฏ",
  "phone": "777666888",
  "governorate": "ุนุฏู",
  "district": "ุงููุนูุง",
  "address": "ุดุงุฑุน ุงููุนูุง ุงูุฑุฆูุณู",
  "isActive": true,
  "createdAt": "2025-01-18T14:20:00Z"
}
```

#### ูุชุฌุฑ 5:
```json
{
  "name": "ูุชุฌุฑ ุงูุจุฑูุฉ",
  "ownerName": "ุฎุงูุฏ ูุญูุฏ ูุงุณู",
  "phone": "733444555",
  "governorate": "ุญุถุฑููุช",
  "district": "ุงููููุง",
  "address": "ุญู ุงูุดุฑููุฉุ ุดุงุฑุน ุงูุณูุงู",
  "isActive": true,
  "createdAt": "2025-01-19T08:45:00Z"
}
```

---

### 3. Indexes ุงููุทููุจุฉ

ุฃุถู ูุฐู ุงูููุงุฑุณ ูู `firestore.indexes.json`:

```json
{
  "indexes": [
    {
      "collectionGroup": "vendors",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "networkId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "available_vendors",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "governorate",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "district",
          "order": "ASCENDING"
        }
      ]
    }
  ]
}
```

---

## ๐ ููุงุนุฏ ุงูุฃูุงู

ุฃุถู ูู `firestore.rules`:

```javascript
match /vendors/{vendorId} {
  // ุงูุณูุงุญ ูููุณุชุฎุฏููู ุงููุตุงุฏู ุนูููู ุจูุฑุงุกุฉ ุงููุชุงุฌุฑ ุงูุชุงุจุนุฉ ูุดุจูุชูู
  allow read: if request.auth != null && 
                 resource.data.networkId == request.auth.uid;
  
  // ุงูุณูุงุญ ุจุฅุถุงูุฉ ูุชุฌุฑ ููุท ุฅุฐุง ูุงู networkId ูุทุงุจู uid ุงููุณุชุฎุฏู
  allow create: if request.auth != null && 
                   request.resource.data.networkId == request.auth.uid;
  
  // ุงูุณูุงุญ ุจุงูุชุญุฏูุซ ููุท ูููุชุงุฌุฑ ุงูุชุงุจุนุฉ ูููุณุชุฎุฏู
  allow update: if request.auth != null && 
                   resource.data.networkId == request.auth.uid;
  
  // ุงูุณูุงุญ ุจุงูุญุฐู ููุท ูููุชุงุฌุฑ ุงูุชุงุจุนุฉ ูููุณุชุฎุฏู
  allow delete: if request.auth != null && 
                   resource.data.networkId == request.auth.uid;
}

match /available_vendors/{vendorId} {
  // ุงูุณูุงุญ ูุฌููุน ุงููุณุชุฎุฏููู ุงููุตุงุฏู ุนูููู ุจูุฑุงุกุฉ ุงููุชุงุฌุฑ ุงููุชุงุญุฉ
  allow read: if request.auth != null;
  
  // ุนุฏู ุงูุณูุงุญ ุจุงููุชุงุจุฉ (ูููุณุคูู ููุท)
  allow write: if false;
}
```

---

## ๐ฑ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุตูุญุฉ ุงููุชุงุฌุฑ ุงูุฑุฆูุณูุฉ
- **ุนุฑุถ ุงููุชุงุฌุฑ ุงููุถุงูุฉ**: ุชุธูุฑ ุฌููุน ุงููุชุงุฌุฑ ุงูุชู ุฃุถุงููุง ูุงูู ุงูุดุจูุฉ
- **ุงูุจุญุซ ุงููุญูู**: ุจุญุซ ุณุฑูุน ูู ุงููุชุงุฌุฑ ุงููุถุงูุฉ (ุงุณู ุงููุชุฌุฑุ ุงููุงูู)
- **ุนุฑุถ ุงูุชูุงุตูู**: ุงูุงุณูุ ุงููุงููุ ุงููุงุชูุ ุงููููุนุ ุงูุฑุตูุฏุ ุงููุฎุฒูู

### 2. ุตูุญุฉ ุงูุจุญุซ ูุงูุฅุถุงูุฉ
- ุงุถุบุท ุนูู ุฃููููุฉ **๐ช** ูู ุงูุฃุนูู
- **ุงูุจุญุซ ุงููุตู**: ุงุจุญุซ ุจุงูุงุณู ุฃู ุฑูู ุงููุงุชู
- **ุชุตููุฉ ุจุงููุญุงูุธุฉ**: ุงุฎุชุฑ ุงููุญุงูุธุฉ ูุชุตููุฉ ุงููุชุงุฆุฌ
- **ุชุตููุฉ ุจุงููุฏูุฑูุฉ**: ุงุฎุชุฑ ุงููุฏูุฑูุฉ (ุชุธูุฑ ุญุณุจ ุงููุญุงูุธุฉ ุงููุฎุชุงุฑุฉ)
- **ุฅุถุงูุฉ ูุชุฌุฑ**: ุงุถุบุท ุฒุฑ "ุฅุถุงูุฉ" ุจุฌุงูุจ ุงููุชุฌุฑ ุงููุทููุจ

### 3. ุจุนุฏ ุงูุฅุถุงูุฉ
- ูุชู ุฅุถุงูุฉ ุงููุชุฌุฑ ุชููุงุฆูุงู ุฅูู ูุงุฆูุชู
- ุฑุตูุฏ ุงุจุชุฏุงุฆู: 0
- ูุฎุฒูู ุงุจุชุฏุงุฆู: 0
- ุญุงูุฉ: ูุดุท

---

## ๐ฏ ุงูููุฒุงุช

โ **ุจุฏูู ุจูุงูุงุช ุชุฌุฑูุจูุฉ**: ูู ุงูุจูุงูุงุช ุญููููุฉ ูู Firebase  
โ **ุจุญุซ ูุชูุฏู**: ูุต + ูุญุงูุธุฉ + ูุฏูุฑูุฉ  
โ **ุชุตููุฉ ุฏููุงููููุฉ**: ุงููุฏูุฑูุงุช ุชุชุบูุฑ ุญุณุจ ุงููุญุงูุธุฉ  
โ **ููุน ุงูุชูุฑุงุฑ**: ูุง ูููู ุฅุถุงูุฉ ููุณ ุงููุชุฌุฑ ูุฑุชูู  
โ **ุชุญุฏูุซ ููุฑู**: ุงูุชุบููุฑุงุช ุชุธูุฑ ูุจุงุดุฑุฉ  
โ **ูุงุฌูุฉ ุงุญุชุฑุงููุฉ**: Grid view responsive  

---

## ๐ ุงููุชุงุฌุฑ ุงูููุชุฑุญุฉ (ูุฅุถุงูุฉ ุงููุฒูุฏ)

### ุตูุนุงุก:
- **ุงูุญุตุจุฉ**: ูุชุฌุฑ ุงูููุฑุ ุจูุงูุฉ ุงูุณุนุงุฏุฉุ ูุฑูุฒ ุงูุฃููู
- **ุดุนูุจ**: ูุฑูุฒ ุงูุณูุงูุ ุณูุจุฑ ูุงุฑูุช ุงูููุงุกุ ูุชุฌุฑ ุงูุชููู
- **ุงูุฑูุถุฉ**: ุจูุงูุฉ ุงูุฅุฎูุงุตุ ูุชุฌุฑ ุงููุฏู

### ุชุนุฒ:
- **ุงููุธูุฑ**: ุจูุงูุฉ ุงูุฃููุ ูุชุฌุฑ ุงููุฑุญุ ุณูุจุฑ ูุงุฑูุช ุงูุญุฏูุซุฉ
- **ุงููุงูุฑุฉ**: ูุฑูุฒ ุงูุฎูุฑุ ุจูุงูุฉ ุงููุฌุงุญ

### ุนุฏู:
- **ุงููุนูุง**: ุณูุจุฑ ูุงุฑูุช ุงูููุงุกุ ูุชุฌุฑ ุงูุนุตุฑู
- **ูุฑูุชุฑ**: ุจูุงูุฉ ุงูุจุฑูุฉุ ูุฑูุฒ ุงููุฏููุฉ

### ุญุถุฑููุช:
- **ุงููููุง**: ูุชุฌุฑ ุงูุจุฑูุฉุ ุณูุจุฑ ูุงุฑูุช ุงูุณุงุญู
- **ุณูุฆูู**: ุจูุงูุฉ ุงููุงุฏู

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **Collection `available_vendors`**: ุชุญุชูู ุนูู ุฌููุน ุงููุชุงุฌุฑ ุงููุชุงุญุฉ ููุฅุถุงูุฉ (ูุฏูุฑูุง ุงููุณุคูู)
2. **Collection `vendors`**: ุชุญุชูู ุนูู ุงููุชุงุฌุฑ ุงููุถุงูุฉ ูุนููุงู (ุฎุงุตุฉ ุจูู ุดุจูุฉ)
3. **networkId**: ูุฑุจุท ุงููุชุฌุฑ ุจุงูุดุจูุฉ ุงูุชู ุฃุถุงูุชู
4. **balance & stock**: ูุชู ุชุญุฏูุซููุง ูู ุฎูุงู ุงููุนุงููุงุช ูุงูุทูุจุงุช

---

## ๐ง Troubleshooting

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุงููุชุงุฌุฑ ูู ุงูุจุญุซ
**ุงูุญู**: ุชุฃูุฏ ูู:
- ุฅูุดุงุก collection `available_vendors`
- ุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ
- ุชุทุจูู ููุงุนุฏ ุงูุฃูุงู ุงูุตุญูุญุฉ

### ุงููุดููุฉ: ุฎุทุฃ ุนูุฏ ุงูุฅุถุงูุฉ
**ุงูุญู**: ุชุฃูุฏ ูู:
- ุงููุณุชุฎุฏู ูุตุงุฏู ุนููู
- `networkId` ููุฌูุฏ
- ููุงุนุฏ ุงูุฃูุงู ุชุณูุญ ุจุงููุชุงุจุฉ

### ุงููุดููุฉ: ูุง ุชุชุญุฏุซ ุงููุฏูุฑูุงุช
**ุงูุญู**: ุชุฃูุฏ ูู:
- ุงููุญุงูุธุฉ ูุญุฏุฏุฉ ุจุดูู ุตุญูุญ
- ุงูุจูุงูุงุช ุชุญุชูู ุนูู ุญูู `district`
- ุงูููุงุฑุณ ุงููุทููุจุฉ ุชู ูุดุฑูุง

---

**๐ ุงูุขู ูุธุงู ุงููุชุงุฌุฑ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!**

