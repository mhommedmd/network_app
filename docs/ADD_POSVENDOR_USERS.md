# ุฅุถุงูุฉ ูุชุงุฌุฑ (posVendor) ูู Firebase

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุงููุธุงู ุงูุขู ูุจุญุซ ูุจุงุดุฑุฉ ูู collection `users` ุนู ุงูุญุณุงุจุงุช ุงูุชู ููุนูุง `posVendor`. ูุง ุญุงุฌุฉ ูู `available_vendors` ูููุตู.

---

## ๐ฅ ุฅุถุงูุฉ ูุชุงุฌุฑ ูู Firebase Console

### ุงูุฎุทูุงุช:

1. ุงูุชุญ **Firebase Console**: https://console.firebase.google.com/project/fir-networkapp/firestore

2. ุงุฐูุจ ุฅูู collection **`users`**

3. ุฃุถู Document ุฌุฏูุฏ ูุน ุงูุจูุงูุงุช ุงูุชุงููุฉ:

---

### ๐ **ูููุฐุฌ ูุชุฌุฑ 1:**

```
Document ID: (Auto-generated ุฃู ุงูุชุจ ูุนุฑู ูุฑูุฏ)

Fields:
type: "posVendor"                   โญ ููู ุฌุฏุงู
name: "ูุชุฌุฑ ุงูููุฑ"
phone: "777123456"
email: "nour_store@example.com"     (ุงุฎุชูุงุฑู)
governorate: "ุตูุนุงุก"                โญ ูุทููุจ ููุจุญุซ
district: "ุงูุญุตุจุฉ"                  โญ ูุทููุจ ููุจุญุซ
address: "ุดุงุฑุน ุงูุฒุจูุฑูุ ุจุฌูุงุฑ ุงูุจูู"
createdAt: (Timestamp - ุงูุขู)
avatar: "ู"                         (ุงุฎุชูุงุฑู)
networkName: null                   (ูุชู ููุคู ุนูุฏ ุงูุชุณุฌูู)
secondPhone: null                   (ุงุฎุชูุงุฑู)
```

---

### ๐ **ูููุฐุฌ ูุชุฌุฑ 2:**

```
Document ID: (Auto-generated)

Fields:
type: "posVendor"
name: "ูุฑูุฒ ุงูุณูุงู"
phone: "733987654"
email: "salam_center@example.com"
governorate: "ุตูุนุงุก"
district: "ุดุนูุจ"
address: "ุดุงุฑุน ุงูุฎูุณููุ ูุฑุจ ุงููุณุฌุฏ"
createdAt: (Timestamp - ุงูุขู)
```

---

### ๐ **ูููุฐุฌ ูุชุฌุฑ 3:**

```
Document ID: (Auto-generated)

Fields:
type: "posVendor"
name: "ุจูุงูุฉ ุงูุฃูู"
phone: "770555777"
email: "amal_store@example.com"
governorate: "ุชุนุฒ"
district: "ุงููุธูุฑ"
address: "ุดุงุฑุน ุฌูุงูุ ุจุงููุฑุจ ูู ุงูุณูู"
createdAt: (Timestamp - ุงูุขู)
```

---

### ๐ **ูููุฐุฌ ูุชุฌุฑ 4:**

```
Document ID: (Auto-generated)

Fields:
type: "posVendor"
name: "ุณูุจุฑ ูุงุฑูุช ุงูููุงุก"
phone: "777666888"
email: "wafaa_market@example.com"
governorate: "ุนุฏู"
district: "ุงููุนูุง"
address: "ุดุงุฑุน ุงููุนูุง ุงูุฑุฆูุณู"
createdAt: (Timestamp - ุงูุขู)
```

---

### ๐ **ูููุฐุฌ ูุชุฌุฑ 5:**

```
Document ID: (Auto-generated)

Fields:
type: "posVendor"
name: "ูุชุฌุฑ ุงูุจุฑูุฉ"
phone: "733444555"
email: "baraka_store@example.com"
governorate: "ุญุถุฑููุช"
district: "ุงููููุง"
address: "ุญู ุงูุดุฑููุฉุ ุดุงุฑุน ุงูุณูุงู"
createdAt: (Timestamp - ุงูุขู)
```

---

## ๐ **ุงูุญููู ุงููุทููุจุฉ:**

| ุงูุญูู | ุงูููุน | ุฅูุฒุงููุ | ุงููุตู |
|-------|-------|---------|--------|
| `type` | string | โ ูุนู | ูุฌุจ ุฃู ูููู **"posVendor"** |
| `name` | string | โ ูุนู | ุงุณู ุงููุชุฌุฑ |
| `phone` | string | โ ูุนู | ุฑูู ุงููุงุชู |
| `governorate` | string | โ ูุนู | ุงููุญุงูุธุฉ (ููุจุญุซ) |
| `district` | string | โ ูุนู | ุงููุฏูุฑูุฉ (ููุจุญุซ) |
| `address` | string | โ๏ธ ูุณุชุญุณู | ุงูุนููุงู ุงูุชูุตููู |
| `createdAt` | timestamp | โ ูุนู | ุชุงุฑูุฎ ุงูุฅูุดุงุก |
| `email` | string | โ ุงุฎุชูุงุฑู | ุงูุจุฑูุฏ ุงูุฅููุชุฑููู |
| `avatar` | string | โ ุงุฎุชูุงุฑู | ุงูุญุฑู ุงูุฃูู |

---

## ๐๏ธ **ุงููุญุงูุธุงุช ูุงููุฏูุฑูุงุช ุงูููุชุฑุญุฉ:**

### **ุตูุนุงุก:**
- ุงูุญุตุจุฉ
- ุดุนูุจ
- ุงูุฑูุถุฉ
- ุงูุณุจุนูู
- ุงูุซูุฑุฉ

### **ุชุนุฒ:**
- ุงููุธูุฑ
- ุงููุงูุฑุฉ
- ุตุงูุฉ
- ุงููุณุฑุงุฎ

### **ุนุฏู:**
- ุงููุนูุง
- ูุฑูุชุฑ
- ุงูุชูุงูู
- ุงูุดูุฎ ุนุซูุงู

### **ุญุถุฑููุช:**
- ุงููููุง
- ุณูุฆูู
- ุชุฑูู

### **ุฅุจ:**
- ุฅุจ ุงููุฏููุฉ
- ุฌุจูุฉ
- ูุฑูู

### **ุงูุญุฏูุฏุฉ:**
- ุงูุญุฏูุฏุฉ ุงููุฏููุฉ
- ุฒุจูุฏ
- ุจุงุฌู

---

## ๐ฏ **ููู ูุนูู ุงููุธุงู:**

### 1. **ุงูุจุญุซ:**
```dart
// ุงููุธุงู ูุจุญุซ ูู users collection
Query query = firestore.collection('users')
    .where('type', isEqualTo: 'posVendor');
```

### 2. **ุงูุชุตููุฉ ุจุงููุญุงูุธุฉ:**
```dart
// ูุชู ุงูุชุตููุฉ ูู ุงูููุฏ (client-side)
vendors = vendors.where((v) => v.governorate == governorate).toList();
```

### 3. **ุงูุชุตููุฉ ุจุงููุฏูุฑูุฉ:**
```dart
vendors = vendors.where((v) => v.district == district).toList();
```

### 4. **ุงูุฅุถุงูุฉ ุฅูู ุงููุชุงุฌุฑ:**
```dart
// ุนูุฏ ุงูุฅุถุงูุฉุ ูุชู ุฅูุดุงุก document ุฌุฏูุฏ ูู vendors collection
await firestore.collection('vendors').add({
  ...vendorData,
  'networkId': currentUserId,  // ุฑุจุท ุจุงูุดุจูุฉ
  'balance': 0,
  'stock': 0,
});
```

---

## โ๏ธ **ููุงุญุธุงุช ูููุฉ:**

### โ **ูุฅุธูุงุฑ ุงููุชุงุฌุฑ ูู ุงูุจุญุซ:**
- ูุฌุจ ุฃู ูููู `type` = **"posVendor"** ุจุงูุถุจุท
- ูุฌุจ ูุฌูุฏ `governorate` ู `district`
- ุงููุชุฌุฑ ูุฌุจ ุฃู ูุง ูููู ูุถุงูุงู ุจุงููุนู ููุดุจูุฉ

### โ **ูู ูุธูุฑ ุงููุชุฌุฑ ุฅุฐุง:**
- `type` = "networkOwner" (ุฃุตุญุงุจ ุงูุดุจูุงุช)
- ุงููุชุฌุฑ ูุถุงู ุจุงููุนู ููุดุจูุฉ
- ูุง ููุฌุฏ `governorate` ุฃู `district`

---

## ๐ **ูุตู ุงููุณุชุฎุฏููู:**

### **ุงููุธุงู ุงูุญุงูู:**
- **collection ูุงุญุฏ:** `users`
- **ูุตู ุจุงูุญูู `type`:**
  - `type: "networkOwner"` โ ุฃุตุญุงุจ ุงูุดุจูุงุช
  - `type: "posVendor"` โ ุงููุชุงุฌุฑ (ููุงุท ุงูุจูุน)

### **ุงููุฒุงูุง:**
โ ุณูููุฉ ุงูุฅุฏุงุฑุฉ  
โ ุงุณุชุนูุงู ูุงุญุฏ ููู ุงููุณุชุฎุฏููู  
โ ูุง ุชูุฑุงุฑ ูู ุงูููุฏ  
โ ุฃุณูู ูู ุงูุชุฑููุฉ ูุงูุตูุงูุฉ  

### **ุฅุฐุง ุฃุฑุฏุช ูุตู ูุนูู ูู collections ูุฎุชููุฉ:**
- ุณุชุญุชุงุฌ ูุฅุนุงุฏุฉ ููููุฉ ูุงููุฉ
- ุฅูุดุงุก `network_owners` ู `pos_vendors` collections
- ุชุญุฏูุซ ุฌููุน ุงูุงุณุชุนูุงูุงุช
- **ููู ุงููุธุงู ุงูุญุงูู ุฃูุถู ูุฃูุซุฑ ูุฑููุฉ!**

---

## ๐งช **ุงุฎุชุจุงุฑ ุงููุธุงู:**

### 1. ุฃุถู ุจูุงูุงุช ุชุฌุฑูุจูุฉ ููุง ูู ุงูุฃุนูู

### 2. ุดุบูู ุงูุชุทุจูู ูุณุฌู ุฏุฎูู ูู **networkOwner**

### 3. ุงุฐูุจ ูุตูุญุฉ **ุงููุชุงุฌุฑ**

### 4. ุงุถุบุท ุฃููููุฉ **๐ช**

### 5. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
โ ุชุธูุฑ ุงููุญุงูุธุงุช ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
โ ุนูุฏ ุงุฎุชูุงุฑ ูุญุงูุธุฉุ ุชุธูุฑ ุงููุฏูุฑูุงุช
โ ุชุธูุฑ ุงููุชุงุฌุฑ ูู ุงููุชุงุฆุฌ
โ ููููู ุฅุถุงูุฉ ุงููุชุฌุฑ ููุงุฆูุชู
```

---

## ๐ **ูุซุงู ูุงูู ูู Firebase:**

```json
{
  "users": {
    "user_001": {
      "type": "networkOwner",
      "name": "ุดุจูุฉ ุงูููุฑ",
      "phone": "777000111",
      "networkName": "ุดุจูุฉ ุงูููุฑ ููุฅูุชุฑูุช",
      ...
    },
    "user_002": {
      "type": "posVendor",
      "name": "ูุชุฌุฑ ุงูุณุนุงุฏุฉ",
      "phone": "777123456",
      "governorate": "ุตูุนุงุก",
      "district": "ุงูุญุตุจุฉ",
      "address": "ุดุงุฑุน ุงูุฒุจูุฑู",
      ...
    },
    "user_003": {
      "type": "posVendor",
      "name": "ุจูุงูุฉ ุงูุฃูู",
      "phone": "733987654",
      "governorate": "ุชุนุฒ",
      "district": "ุงููุธูุฑ",
      ...
    }
  },
  "vendors": {
    "vendor_001": {
      "name": "ูุชุฌุฑ ุงูุณุนุงุฏุฉ",
      "networkId": "user_001",    โ ุชู ุฑุจุทู ุจุงูุดุจูุฉ
      "balance": 5000,
      "stock": 50,
      ...
    }
  }
}
```

---

**๐ ุงูุขู ุงููุธุงู ุฌุงูุฒ ููุนูู ูุน ุงููุชุงุฌุฑ ุงูุญููููุฉ!**

