# ๐ ุฏููู ูุญุต ูุชุตุญูุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ ุงููุญุชููุงุช
1. [ููููุฉ ุงููุตูู ูุฃุฏุงุฉ ุงููุญุต](#ูุตูู)
2. [ููู ูุชุงุฆุฌ ุงููุญุต](#ููู-ุงููุชุงุฆุฌ)
3. [ุฎุทูุงุช ุงูุชุตุญูุญ ุงููุฏูู](#ุชุตุญูุญ-ูุฏูู)
4. [ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ](#ูุดุงูู-ุดุงุฆุนุฉ)

---

## ๐ฏ ููููุฉ ุงููุตูู ูุฃุฏุงุฉ ุงููุญุต {#ูุตูู}

### ุงูุทุฑููุฉ 1: ูู ุงูููุฏ ูุจุงุดุฑุฉ

ุฃุถู ูุฐุง ุงูุฒุฑ ูู ุฃู ููุงู ูู ุงูุชุทุจูู (ูุคูุชุงู ููุงุฎุชุจุงุฑ):

```dart
// ูู ุฃู ุตูุญุฉุ ุฃุถู ูุฐุง ุงูุฒุฑ:
FloatingActionButton(
  onPressed: () {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (_) => const DatabaseDiagnosticPage(),
      ),
    );
  },
  child: const Icon(Icons.bug_report),
)
```

### ุงูุทุฑููุฉ 2: ุฅุถุงูุฉ ุฏุงุฆูุฉ ูู NetworkOwnerHomePage

ุฃุถู import ูู ุฃุนูู ุงูููู:
```dart
import 'database_diagnostic_page.dart';
```

ุซู ุฃุถู ุฒุฑ ูู ููุงู ููุงุณุจ.

---

## ๐ ููู ูุชุงุฆุฌ ุงููุญุต {#ููู-ุงููุชุงุฆุฌ}

### ๐ข ุจุทุงูุฉ ุฎุถุฑุงุก - ูู ุดูุก ุนูู ูุง ูุฑุงู
```
โ ูุชูุฌุฉ ูุญุต ุงููุชุงุฌุฑ
ุฅุฌูุงูู: 5
ุตุญูุญ: 5
ุจู ูุดุงูู: 0
```
**ุงูุฅุฌุฑุงุก:** ูุง ููุฌุฏ ุดูุก ููููุงู ุจู.

---

### ๐ก ุจุทุงูุฉ ุตูุฑุงุก - ุชุญุฐูุฑ (ุบูุฑ ุญุฑุฌ)
```
โ๏ธ ูุชูุฌุฉ ูุญุต ุงูุทูุจุงุช
ุฅุฌูุงูู: 10
ูุญุชูู ุนูู vendorStoreName: 3
ุจุฏูู vendorStoreName: 7
```
**ุงููุนูู:** ุงูุจูุงูุงุช ุงููุฏููุฉ ูุง ุชุญุชูู ุนูู ุงูุญูู ุงูุฌุฏูุฏ.

**ุงูุฅุฌุฑุงุก:** 
- โ **ุงูุทูุจุงุช ุงูุฌุฏูุฏุฉ** ุณุชุญุชูู ุนูู ุงูุญูู ุชููุงุฆูุงู
- โ **ุงูุทูุจุงุช ุงููุฏููุฉ** ุณุชุนูู ุจุดูู ุทุจูุนู (fallback ููุฌูุฏ)
- โ๏ธ **ุงุฎุชูุงุฑู:** ููููู ุชุตุญูุญูุง ูุฏููุงู (ุงูุธุฑ ุงููุณู ุงูุชุงูู)

---

### ๐ด ุจุทุงูุฉ ุญูุฑุงุก - ุฎุทุฃ ุญุฑุฌ
```
โ ูุชุฌุฑ ุงูุฃูู - Document ID ูุง ูุทุงุจู User ID
```
**ุงููุนูู:** ููุงู ูุดููุฉ ูู ุฑุจุท ุงูุจูุงูุงุช.

**ุงูุฅุฌุฑุงุก:** ูุฌุจ ุงูุชุตุญูุญ (ุงูุธุฑ ุงููุณู ุงูุชุงูู).

---

## ๐ง ุฎุทูุงุช ุงูุชุตุญูุญ ุงููุฏูู {#ุชุตุญูุญ-ูุฏูู}

### ุงููุดููุฉ 1: Document ID ูุง ูุทุงุจู User ID ูู vendors

#### ุงูุฎุทูุงุช:
1. **ุงูุชุญ Firebase Console:**
   ```
   https://console.firebase.google.com/project/fir-networkapp/firestore
   ```

2. **ุงูุชุญ collection `vendors`**

3. **ุงูุชุญ collection `users` ูู ุชุงุจ ุขุฎุฑ**

4. **ููู ูุชุฌุฑ ุจู ูุดููุฉ:**
   - ุงุจุญุซ ุนู ุงููุชุฌุฑ ูู `users` (ุจููุน `posVendor`)
   - ุงูุณุฎ **Document ID** ูู `users`
   - ูู `vendors`ุ ุงุญุฐู ุงููุชุฌุฑ ุงููุฏูู
   - ุฃุถู document ุฌุฏูุฏ ุจู Document ID = User ID ุงูููุณูุฎ
   - ุงูุณุฎ ุฌููุน ุงูุจูุงูุงุช ูู ุงููุชุฌุฑ ุงููุฏูู

#### ูุซุงู:

**ูุจู (ุฎุทุฃ):**
```
vendors/
  โโโ mublIzl2wAFXS5KfeyIx  โ Document ID ุนุดูุงุฆู โ
      โโโ name: "ูุชุฌุฑ ุงูุฃูู"
      โโโ userId: "I1Xk9X7a32PW5apyAJ3zpaZryOc2"
      โโโ networkId: "..."
```

**ุจุนุฏ (ุตุญูุญ):**
```
vendors/
  โโโ I1Xk9X7a32PW5apyAJ3zpaZryOc2  โ Document ID = User ID โ
      โโโ name: "ูุชุฌุฑ ุงูุฃูู"
      โโโ userId: "I1Xk9X7a32PW5apyAJ3zpaZryOc2"
      โโโ networkId: "..."
```

---

### ุงููุดููุฉ 2: ุญููู ููููุฏุฉ (vendorStoreName)

**ุงูุญุงูุฉ:** ุงูุจูุงูุงุช ุงููุฏููุฉ ูุง ุชุญุชูู ุนูู `vendorStoreName`.

**ุงูุญู ุงูููุตู ุจู:**
- โ **ูุง ุชูุนู ุดูุฆุงู!** ุงููุธุงู ุณูุชุนุงูู ูุนูุง ุชููุงุฆูุงู
- ุงูููุฏ ูุญุชูู ุนูู fallback:
  ```dart
  vendorStoreName: data['vendorStoreName'] ?? data['vendorName'] ?? ''
  ```

**ุฅุฐุง ุฃุฑุฏุช ุงูุชุตุญูุญ (ุงุฎุชูุงุฑู):**

1. ุงูุชุญ Firebase Console
2. ุงูุชุญ collection ุงููุทููุจุฉ (ูุซูุงู `orders`)
3. ููู document:
   - ุฃุถู ุญูู ุฌุฏูุฏ: `vendorStoreName`
   - ุงููููุฉ: ูุณุฎ ูู `vendorName` ุฃู ุงุจุญุซ ุนู ุงุณู ุงููุชุฌุฑ ูู `vendors`

---

## ๐จ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ {#ูุดุงูู-ุดุงุฆุนุฉ}

### ุงููุดููุฉ: "ุงููุนุงููุงุช ูุง ุชุธูุฑ ูููุชุฌุฑ"

**ุงูุณุจุจ:** `vendorId` ูู `transactions` ูุง ูุทุงุจู Document ID ูู `vendors`.

**ุงูุญู:**
1. ุงูุชุญ `vendors` collection
2. ุชุฃูุฏ ุฃู Document ID = User ID
3. ุฅุฐุง ูู ููู ูุฐููุ ุงุชุจุน ุฎุทูุงุช ุงูุชุตุญูุญ ุฃุนูุงู

---

### ุงููุดููุฉ: "ุงุณู ุงููุชุฌุฑ ูุง ูุธูุฑุ ูุธูุฑ ููุท ุงุณู ุงููุงูู"

**ุงูุณุจุจ:** ุงูุจูุงูุงุช ุงููุฏููุฉ ูุง ุชุญุชูู ุนูู `vendorStoreName`.

**ุงูุญู:**
- โ **ุงูุชุธุฑ ุงูุทูุจุงุช ุงูุฌุฏูุฏุฉ** - ุณุชุญุชูู ุนูู ุงูุญูู ุชููุงุฆูุงู
- ุฃู ุตุญูุญ ุงูุจูุงูุงุช ุงููุฏููุฉ ูุฏููุงู (ุงุฎุชูุงุฑู)

---

## ๐ ูุตุงุฆุญ ูููุฉ

### โ ุงูุนู:
- โ ูู ุจุนูู backup ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุฃู ุชุนุฏูู
- โ ุตุญูุญ ูุดููุฉ ูุงุญุฏุฉ ูู ุงููุฑุฉ
- โ ุงุฎุชุจุฑ ุจุนุฏ ูู ุชุตุญูุญ
- โ ุดุบูู ุงููุญุต ูุฑุฉ ุฃุฎุฑู ุจุนุฏ ุงูุชุตุญูุญ

### โ ูุง ุชูุนู:
- โ ูุง ุชุญุฐู ุงูุจูุงูุงุช ุจุดูู ุนุดูุงุฆู
- โ ูุง ุชุบูุฑ Document IDs ููุจูุงูุงุช ุงูุตุญูุญุฉ
- โ ูุง ุชููู ูู ุงูุชุญุฐูุฑุงุช ุงูุตูุฑุงุก (ุบูุฑ ุญุฑุฌุฉ)

---

## ๐ฏ ุฎุทุฉ ุงูุชุตุญูุญ ุงูููุตู ุจูุง

### ููุจูุงูุงุช ุงูุฌุฏูุฏุฉ (ููุตู ุจู):
```
1. ูุง ุชูุนู ุดูุฆุงู ููุจูุงูุงุช ุงููุฏููุฉ
2. ุงููุธุงู ุงููุญุฏูุซ ุณูุชุนุงูู ูุนูุง ุชููุงุฆูุงู
3. ุฌููุน ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ุณุชููู ุตุญูุญุฉ
```

### ููุจูุงูุงุช ุงูุญุฑุฌุฉ ููุท:
```
1. ุตุญูุญ ููุท ุงููุชุงุฌุฑ ุงูุชู Document ID โ User ID
2. ุจุงูู ุงููุดุงูู (vendorStoreName) ุบูุฑ ุญุฑุฌุฉ
```

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

- [Firebase Console](https://console.firebase.google.com/project/fir-networkapp/firestore)
- [ุฏููู Security Rules](./DEPLOY_FIREBASE_RULES.md)
- [ุฏููู Indexes](./DEPLOY_INDEXES.md)

---

## ๐ ุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ูุดููุฉ:
1. ุดุบูู ุฃุฏุงุฉ ุงููุญุต
2. ุงุถุบุท ุฒุฑ "ูุณุฎ ุงูุชูุฑูุฑ"
3. ุงุญูุธ ุงูุชูุฑูุฑ ูู ููู
4. ุฑุงุฌุน ูุฐุง ุงูุฏููู ููุญููู

---

**ุขุฎุฑ ุชุญุฏูุซ:** 29 ุฃูุชูุจุฑ 2025


